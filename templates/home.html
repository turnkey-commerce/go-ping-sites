<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="refresh" content="30">
  {{template "_head.html" .Title}}
</head>
<body role="document">
  {{template "_nav.html" .Active}}
  <div class="container">
    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h1>Monitored Sites Status</h1>
        <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th class="col-md-4">Website</th>
              <th class="col-md-2">Status</th>
              <th class="col-md-3">Since</th>
              <th class="col-md-3">Last Checked</th>
            </tr>
          </thead>
          <tbody>
            {{range .Sites}}
              <tr class="{{.CSSClass}}">
                <td>{{.Name}}</td>
                <td class="text-{{.CSSClass}}">{{.Status}}</td>
                <td>{{.HowLong}}</td>
                <td>{{.LastChecked}}</td>
              </tr>
            {{end}}
          </tbody>
        </table>
        <i><div id="divLocal" style="font-style: italic;"></i>
      </div>
    </div>
  </div>
</div> <!-- /container -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.3.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    <script src="js/moment.min.js"></script>
    <script language="JavaScript">
      $(window).load(function() {
        var divLocal = $('#divLocal');
        var utcTime = moment.utc().format('YYYY-MM-DD HH:mm:ss');        
        var localTimeJS  = moment.utc(utcTime).toDate();
        var localTime = 'Page refreshed: ' + moment(localTimeJS).format('YYYY-MM-DD h:mm:ss A');
        divLocal.text(localTime); 
      });
    </script>
</body>
</html>
